getUrlParameter=function t(e){var a,n,o=window.location.search.substring(1).split("&");for(n=0;n<o.length;n++)if((a=o[n].split("="))[0]===e)return void 0===a[1]||decodeURIComponent(a[1]);return!1},$(document).ready(function(){$("#date_range_picker").daterangepicker({opens:"left"}),$("#date_range_picker").on("change",function(){$("#table_HR").DataTable().ajax.reload()}),$("#table_HR").DataTable({ajax:{url:$("#table_HR").data("source"),data:function(t){t.start=$("#date_range_picker").data("daterangepicker").startDate.format("YYYY-MM-DD"),t.end=$("#date_range_picker").data("daterangepicker").endDate.format("YYYY-MM-DD")}},autoWidth:!1,buttons:[{extend:"collection",text:"Export",buttons:["copy","csv"]}],dom:"Bfrtip",pageLength:25,footerCallback:function(t,e,a,n,o){var r=this.api(),c=function(t){return"string"==typeof t?1*t.replace(/[\$,]/g,""):"number"==typeof t?t:0};ob1=r.column(1).data().reduce(function(t,e){return c(t)+c(e)},0),ob1Total=r.column(1,{page:"current"}).data().reduce(function(t,e){return c(t)+c(e)},0),ob2=r.column(2).data().reduce(function(t,e){return c(t)+c(e)},0),ob2Total=r.column(2,{page:"current"}).data().reduce(function(t,e){return c(t)+c(e)},0),ob3=r.column(3).data().reduce(function(t,e){return c(t)+c(e)},0),ob3Total=r.column(3,{page:"current"}).data().reduce(function(t,e){return c(t)+c(e)},0),ob4=r.column(4).data().reduce(function(t,e){return c(t)+c(e)},0),ob4Total=r.column(4,{page:"current"}).data().reduce(function(t,e){return c(t)+c(e)},0),nwh=r.column(5).data().reduce(function(t,e){return c(t)+c(e)},0),nwhTotal=r.column(5,{page:"current"}).data().reduce(function(t,e){return c(t)+c(e)},0),$(r.column(1).footer()).html(ob1Total+" hours ("+ob1+"h total)"),$(r.column(2).footer()).html(ob2Total+" hours ("+ob2+"h total)"),$(r.column(3).footer()).html(ob3Total+" hours ("+ob3+"h total)"),$(r.column(4).footer()).html(ob4Total+" hours ("+ob4+"h total)"),$(r.column(5).footer()).html(nwhTotal+" hours ("+nwh+"h total)")}});let t=document.getElementById("live_toast");if(getUrlParameter("ical")){let e=document.querySelectorAll("#user_tabs button");e.forEach(t=>{let e=new bootstrap.Tab(t);t.addEventListener("click",t=>{t.preventDefault(),e.show()})});let a=document.querySelector('#user_tabs button[data-bs-target="#links-tab-pane"]');bootstrap.Tab.getInstance(a).show()}$("#personal_link_clipboard").click(function(){navigator.clipboard.writeText($("#personal_link_clipboard_data").val()).then(function(){$("#toast_content").text("Data copied to clipboard. User Ctrl+P to paste data.")},function(){$("#toast_content").text("Failure to copy. Check permissions for clipboard")});let e=new bootstrap.Toast(t);e.show()}),$("#team_link_clipboard").click(function(){navigator.clipboard.writeText($("#team_link_clipboard_data").val()).then(function(){$("#toast_content").text("Data copied to clipboard. User Ctrl+P to paste data.")},function(){$("#toast_content").text("Failure to copy. Check permissions for clipboard")});let e=new bootstrap.Toast(t);e.show()})});