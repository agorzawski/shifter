<!DOCTYPE html>
<html lang='en' >
<head>
<meta charset='UTF-8'>
<title>Shifter - shifts planner and viewer</title>
<link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.print.min.css' rel='stylesheet' media='print' />
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.css'>
<script>
 if (document.location.search.match(/type=embed/gi)) {
       window.parent.postMessage('resize', '*');
     }
</script>
</head>

<body translate='no' >
  <div class='ui container'>
  <div class='ui menu'>
    <div class='header item'>Shifter</div>
    <div class="left menu">
      <a class="item" href=''>Others</a>
      <a class="item" href=''>Export</a>
    </div>
    <div class="right menu">
      <a class="item" href='/admin'>Admin</a>
    </div>
  </div>
</div>

<br/>
<div class='ui container'>
  <div class='ui grid'>
    <div class='ui sixteen column'>
      <div id='calendar'></div>
    </div>
  </div>
</div>

</div>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.js'></script>

<script id='rendered-js' >
$(document).ready(function () {

  $('#calendar').fullCalendar({
    header: {
      left: 'prev,next today',
      center: 'title',
      right: 'month,basicWeek,basicDay'
    },
    // defaultView: 'week',
    defaultDate: '2021-03-01',
    navLinks: true, // can click day/week names to navigate views
    editable: false,
    eventLimit: true, // allow 'more' link when too many events
    // title: ' AAAAA '
    // intervalStart:'2021-03-03',
    // intervalEnd:'2021-03-10',

    events: [
      {% for campaign in scheduled_campaigns_list %}
      {
          title: '{{ campaign.name  }}',
          start:'{{ campaign.date_start }}',
          end:'{{ campaign.date_end }}',
          color:'orange',
          //display: 'background',
      },
      {% endfor %}


    {% for shift in scheduled_shifts_list %}
    {
        title: '{{shift.member.first_name}} as {{shift.slot.name}}  {{shift.member.role}}',
        start:'{{ shift.shift_start }}',
        end:'{{ shift.shift_end }}',
        color:{% if 'Morning' in shift.slot.name %}'#AFAFAF'{% else %}'#3A3A3A'{% endif %}

    },
    {% endfor %}

    ] });

});
    </script>

</body>
</html>
