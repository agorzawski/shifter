{% extends 'template_main.html'%}
{% load static %}

{% block 'extra_menu_item' %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <strong>Display options<small> Revision:<coffee id="displayed_revision_name">{{displayed_revision}}</coffee></small></strong>
        </a>
        <form class="dropdown-menu p-4">
          {% csrf_token %}

          <div class="form-group">
          <div class="form-check ">
          <label>Displayed revision (only valid): </label>
          <select name='revision' id='revision' class="custom-select" required {%if not logged_user %} disabled {%endif%}>
          {% for r in revisions %}
              <option value="{{r.number}}">{{r}}</option>
          {% endfor %}
          </select>
          </div>
          </div>
          <div class="dropdown-divider"></div>

          <div class="form-group displayed_campaigns">
          <label>Displayed campaigns:</label>
          {% for c in campaigns %}
          <br><input class="form-check-input" type="checkbox" name="campaign[]" id="campaign{{c.id}}" value="{{c.id}}"
                     {%if c in scheduled_campaigns_list%} checked {%endif%} >
            <label class="form-check-label" for="campaign{{c.id}}">{{c}}<br>
            <small><strong>{{c.date_start}} - {{c.date_end}}</strong></small></label>
          {% endfor %}
          </div>

        <div class="dropdown-divider"></div>
          <div class="form-group">
          <input class="form-check-input" type="checkbox" name="all_roles" id="all_roles" value="all"
           {% if all_roles %} checked {% endif %} >
            Display additional roles assigned to the specific shift, e.g. <strong>Office</strong>. <br>
          </div>

          <div class="form-group">
          <input class="form-check-input" type="checkbox" name="show_studies" id="show_studies" value="all" checked>
            <strong>Display planned studies.</strong><br>
          </div>

        </form>
      </li>
{% endblock %}

{% block 'body' %}
<br/>
{% url 'ajax.get_events' as the_url %}
{% include 'calendar.html' with event_source=the_url %}
{% endblock %}


{%  block js %}
<script type="text/javascript" src="{% static 'js/calendar_script.min.js' %}"></script>
{% endblock %}